<!DOCTYPE html>
<html>
<head>
  <title>用户界面</title>
  <link rel="stylesheet" href="secret.css">
</head>
<body>
  <div class="box">
    <h2>修改密码</h2>
   <form id="changePasswordForm">
     <div class="input-box">
     <label for="userId">用户id:</label>
        <input type="text" id="userId" name="userId" required><br><br>
         <label for="newPassword">新密码:</label>
         <input type="newPassword" id="newPassword" name="newPassword" required><br><br>
         <input type="submit" value="确认修改">
     </div>
     </form>
 </div>

 <script>
    document.getElementById('changePasswordForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        const userId = document.getElementById('userId').value;
        const newPassword = document.getElementById('newPassword').value;

        const response = await fetch('/change-password', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ userId, newPassword }),
        });

        if (response.ok) {
            const data = await response.json();
            alert(data.message); // 假设成功响应包含了一条消息
        }
        else { 
            alert('密码修改失败，请重试。');
        }
    });
 </script>
</body>
</html>